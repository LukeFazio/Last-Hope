[gd_scene load_steps=26 format=2]

[ext_resource path="res://icon.png" type="Texture" id=1]
[ext_resource path="res://Environment/BasicTile.png" type="Texture" id=2]
[ext_resource path="res://Scenes/Item.gd" type="Script" id=3]
[ext_resource path="res://Scenes/Item.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/daynight.gd" type="Script" id=5]
[ext_resource path="res://Scenes/Inventory.gd" type="Script" id=6]
[ext_resource path="res://Entities/DefaultMech/DefaultMech.gd" type="Script" id=7]
[ext_resource path="res://Scenes/BunkerEntrance.tscn" type="PackedScene" id=8]
[ext_resource path="res://Environment/TestMap.tscn" type="PackedScene" id=9]
[ext_resource path="res://Scenes/Player.gd" type="Script" id=10]
[ext_resource path="res://Scenes/log.gd" type="Script" id=11]
[ext_resource path="res://Weapons/Weapon.gd" type="Script" id=12]
[ext_resource path="res://Scenes/Mouse.gd" type="Script" id=13]
[ext_resource path="res://Scenes/Main.gd" type="Script" id=14]
[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=15]
[ext_resource path="res://Scenes/transition.tscn" type="PackedScene" id=16]
[ext_resource path="res://Entities/DefaultMech/DefaultMech.tscn" type="PackedScene" id=17]

[sub_resource type="PhysicsMaterial" id=5]
friction = 0.6
bounce = 0.6

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 27.232, 30 )

[sub_resource type="DynamicFontData" id=3]
antialiased = false
font_path = "res://Art/Fonts/PressStart2P-Regular.ttf"

[sub_resource type="DynamicFont" id=4]
size = 33
font_data = SubResource( 3 )

[sub_resource type="Animation" id=6]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ) ]
}

[sub_resource type="Animation" id=2]
resource_name = "falsh"
length = 5.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 2, 5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( 0, 0, 64, 0, 64, 64, 0, 64 )

[sub_resource type="TileSet" id=8]
0/name = "BasicTile.png 0"
0/texture = ExtResource( 2 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 64, 64 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 7 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 7 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[node name="Main" type="Node2D"]
script = ExtResource( 14 )

[node name="daynight" type="CanvasModulate" parent="."]
color = Color( 0.189098, 0.036, 0.142667, 1 )
script = ExtResource( 5 )
time = 18
cycle_len = 1200.0
colors = [ Color( 0.168627, 0, 0.14902, 1 ), Color( 0.282353, 0.2, 0.113725, 1 ), Color( 0.678431, 0.678431, 0.603922, 1 ), Color( 0.988235, 1, 0.776471, 1 ), Color( 0.988235, 1, 0.776471, 1 ), Color( 0.988235, 1, 0.776471, 1 ), Color( 0.678431, 0.678431, 0.603922, 1 ), Color( 0.282353, 0.2, 0.113725, 1 ), Color( 0.168627, 0.00392157, 0.00392157, 1 ), Color( 0.0431373, 0.0431373, 0.0431373, 1 ), Color( 0.0431373, 0.0431373, 0.0431373, 1 ), Color( 0.101961, 0.0352941, 0.0941176, 1 ), Color( 0.168627, 0, 0.14902, 1 ) ]

[node name="Item6" type="RigidBody2D" parent="." groups=["Item"] instance=ExtResource( 4 )]
position = Vector2( -66.217, -16.0712 )
rotation = -0.00366771
collision_layer = 4
collision_mask = 0
physics_material_override = SubResource( 5 )
gravity_scale = 2.4
linear_velocity = Vector2( -0.0824306, -5.8931 )
linear_damp = 0.1
angular_velocity = -0.00275204
angular_damp = 0.1
script = ExtResource( 3 )
item_name = "sensor"
blueprint = ""
collected = false

[node name="Player" parent="." instance=ExtResource( 15 )]
position = Vector2( 360, -56 )

[node name="Player" parent="Player" index="0" groups=["Player"]]
position = Vector2( 429.999, 26.924 )
script = ExtResource( 10 )
health_bar_path = NodePath("")
MAX_HEALTH = 100
knockback_resistance = 1.0
speed = 200
jump_speed = -600
gravity = 2000
friction = 0
acceleration = 0
weight_capacity = 20

[node name="Sprite" parent="Player/Player" index="0"]
texture = ExtResource( 1 )

[node name="CollisionShape2D" parent="Player/Player" index="1"]
position = Vector2( 1, -1 )
shape = SubResource( 1 )

[node name="Camera2D" parent="Player/Player" index="2"]
current = true

[node name="ProgressBar" parent="Player/Player/Camera2D/UI" index="0"]
margin_left = 1157.0
margin_top = 12.0
margin_right = 1909.0
margin_bottom = 54.0
max_value = 10.0
value = 7.1
percent_visible = false
script = ExtResource( 6 )

[node name="Base" parent="Player/Player/Camera2D/UI/ProgressBar" index="0"]
position = Vector2( 377, 86 )

[node name="indicator" parent="Player/Player/Camera2D/UI/ProgressBar" index="1"]
anchor_right = 1.0
anchor_bottom = 1.0
text = "7.1/10 mÂ³"
align = 1
valign = 1

[node name="log" parent="Player/Player/Camera2D/UI" index="1"]
modulate = Color( 1, 1, 1, 0.16111 )
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 14.0
margin_top = -46.0
margin_right = 1921.0
margin_bottom = -9.0
custom_fonts/normal_font = SubResource( 4 )
bbcode_enabled = true
bbcode_text = "[color=red]Inventory full![/color]"
text = "Inventory full!"
script = ExtResource( 11 )

[node name="flash" parent="Player/Player/Camera2D/UI/log" index="2"]
anims/RESET = SubResource( 6 )
anims/falsh = SubResource( 2 )

[node name="CollisionShape2D" parent="Player/Player/Area2D" index="0"]
position = Vector2( 1, -1 )
shape = SubResource( 1 )

[node name="Weapon" parent="Player/Player" index="4"]
script = ExtResource( 12 )
automatic = true
fire_rate = 0.08
magazine_size = 42
reload_time = 1.0
damage = 10
bullet_speed = 100
min_accuracy = 1.0
accuracy_decrease = 0.2
accuracy_increase = 0.1
max_accuracy = 6.0
accuracy_increase_delay = 0.4
bullet_per_shot = 1
shoot_pos_path = NodePath("../AimPosition")

[node name="AimPosition" parent="Player/Player" index="5"]
position = Vector2( -17.2469, -61.6323 )

[node name="Mouse" parent="Player/Player" index="6"]
position = Vector2( -34, -121.5 )
script = ExtResource( 13 )

[node name="TileMap" type="TileMap" parent="." instance=ExtResource( 9 )]
tile_set = SubResource( 8 )
collision_layer = 3
collision_mask = 7
format = 1
tile_data = PoolIntArray( -393206, 0, 0, -393205, 0, 0, -393204, 0, 0, -196619, 0, 0, -262128, 0, 0, -131083, 0, 0, -131082, 0, 0, -196592, 0, 0, -65547, 0, 0, -65546, 0, 0, -65543, 0, 0, -65542, 0, 0, -131057, 0, 0, -131056, 0, 0, -11, 0, 0, -10, 0, 0, -7, 0, 0, -6, 0, 0, -3, 0, 0, -65522, 0, 0, -65521, 0, 0, -65520, 0, 0, 65517, 0, 0, 65518, 0, 0, 65519, 0, 0, 65520, 0, 0, 65521, 0, 0, 65522, 0, 0, 65523, 0, 0, 65524, 0, 0, 65525, 0, 0, 65526, 0, 0, 65527, 0, 0, 65528, 0, 0, 65529, 0, 0, 65530, 0, 0, 65531, 0, 0, 65532, 0, 0, 65533, 0, 0, 65534, 0, 0, 65535, 0, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 11, 0, 0, 12, 0, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0, 16, 0, 0, 17, 0, 0, 18, 0, 0, 19, 0, 0, 20, 0, 0, 21, 0, 0, 22, 0, 0, 23, 0, 0, 24, 0, 0, 25, 0, 0, 26, 0, 0, 27, 0, 0, 28, 0, 0, 29, 0, 0 )

[node name="DefaultMech2" type="KinematicBody2D" parent="." instance=ExtResource( 17 )]
position = Vector2( 992, -128 )
collision_layer = 3
script = ExtResource( 7 )
health_bar_path = NodePath("")
MAX_HEALTH = 100
knockback_resistance = 1.0
parts_to_drop = [ "sensor", "wiring", "power_cell", "scrap" ]
volume_of_parts_dropped = 2.0

[node name="DefaultMech" type="KinematicBody2D" parent="." instance=ExtResource( 17 )]
position = Vector2( -160, -64 )
collision_layer = 3
script = ExtResource( 7 )
health_bar_path = NodePath("")
MAX_HEALTH = 100
knockback_resistance = 1.0
parts_to_drop = [ "sensor", "wiring", "power_cell", "scrap" ]
volume_of_parts_dropped = 8.0

[node name="DefaultMech4" type="KinematicBody2D" parent="." instance=ExtResource( 17 )]
position = Vector2( -416, -128 )
collision_layer = 3
script = ExtResource( 7 )
health_bar_path = NodePath("")
MAX_HEALTH = 100
knockback_resistance = 1.0
parts_to_drop = [ "wiring", "sensor", "scrap", "power_cell" ]
volume_of_parts_dropped = 4.0

[node name="Bunker" type="Node2D" parent="." groups=["BunkerEntrance"] instance=ExtResource( 8 )]
position = Vector2( 832, 0 )

[node name="transition" type="CanvasLayer" parent="." instance=ExtResource( 16 )]

[editable path="Player"]
[editable path="Player/Player/Camera2D/UI"]
